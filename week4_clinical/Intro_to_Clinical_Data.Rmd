---
title: "Introduction to Clinical Data"
author: Nicole Black
date: 07/17/22
---

Welcome to your first experience using TCGA data in R! The first data type we will begin with is clinical data (ex: sex, age, etc.)

###### Set up your working environment

Before running this code, make sure you are in the correct working directory (your Github repository) with getwd() and setwd(). Otherwise youâ€™ll have trouble tracking the data down!

As good general practice to keep things organized, create an "analysis_data" folder in the root of your GitHub repository (your qbio_490_name folder), then set that folder as your working directory ("/PATH/TO/qbio_490_name/analysis_data") whenever you are working with TCGA files.

Go ahead and do that now:

```{r Exercise 1.1}
# create an "analysis_data" folder in qbio_490_name (you can do this in your CLI or GUI)
# set your working directory to that folder (remember that R requires quotes around file paths!)
```

Specifically for RNotebooks, setting a working directory is a bit funky. Make sure you understand setwd() since this is the command you will use when working in R scripts, but for all notebooks from now on, just add your path into the R Setup chunk as seen below.

```{r setup}
    knitr::opts_knit$set(root.dir = normalizePath("/PATH/TO/analysis_data")) 
```

Before you move on, go to your GitHub web browser, open your .gitignore, and add analysis_data to it. The loaded files from TCGA are quite large, so we don't want to push them to GitHub, it's also typically best to avoid putting raw data on GitHub.

###### Pulling data from TCGA using TCGAbiolinks

You should have already installed both the BiocManager and TCGAbiolinks packages into R. Go ahead and load those packages in now:

```{r Exercise 2.1}
# load packages
```

To get the clinical data files onto your computer, use GDCquery(). 

Hint: you'll need to fill in the "project", "data.category", and "file.type" (=xml) arguments. Look up GDCquery() either in the help pane or online to determine which "project" and "data.category" to use. At the bottom of the help pane there are examples that might be useful as well.

```{r Exercise 2.2}
clinical_query <- GDCquery(FILL IN HERE)
```

After you have queried the data, download it.

```{r Exercise 2.2}
GDCdownload(clinical_query) # ONLY RUN THIS ONCE! it is very slow
```

Lastly, to get the data into an R data frame, use GDCprepare_clinic().

```{r Exercise 2.3}
clinical <- GDCprepare_clinic(FILL IN HERE)
```

###### Exploring the Data

View the structure of the data as well as the first few lines. What two commands should you use?

1. How many rows are there? How many columns?
2. What is the data type of $ gender?
3. What is the age in years of the 5th patient (barcode: TCGA-4H-AAAK)?
4. How old was the 1st patient at their last follow up (barcode: TCGA-3C-AAAU)? HINT: look at data from two columns

```{r Exercise 3.1}
# write code here
```

View the column and row names. What two commands should you use?

```{r Exercise 3.2}
# write code here
```

View the vital status column. What two notations can be used to view columns? 

```{r Exercise 3.3}
# write code here
```

###### Plotting

Choose two variables and make a scatter plot (recall the plot() function).

THINK: what types of variables can you use in a scatter plot (continuous, discrete, categorical). Look these up if you need help!

For an extra challenge, add a plot title, axes titles, and colors to your plot.

```{r Exercise 4.1}
# create plot here
```

Choose two new variables and make a box plot (recall the boxplot() function).

THINK: what types of variables can you use in a box plot?

For an extra challenge, add a plot title, axes titles, and confidence intervals to your plot.

```{r Exercise 4.2}
# create plot here
```

